\ProvidesPackage{common-math}

\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{quiver}
\usepackage{pgfplots}
\usepackage{tikz-cd}
\usepackage{forest}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}

% Common sets
\DeclareMathAlphabet{\mymathbb}{U}{BOONDOX-ds}{m}{n}
\newcommand{\on}[1]{\operatorname{#1}}
\newcommand{\B}{\mathcal{B}}  
\newcommand{\V}{\mathcal{V}}  
\newcommand{\A}{\mathbb{A}}  
\newcommand{\R}{\mathbb{R}}  
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
% Cal
\newcommand{\calA}{\mathcal{A}}  
\newcommand{\calB}{\mathcal{B}}  
\newcommand{\calC}{\mathcal{C}}  
\newcommand{\calD}{\mathcal{D}}  
\newcommand{\calE}{\mathcal{E}}  
\newcommand{\calF}{\mathcal{F}}  
\newcommand{\calG}{\mathcal{G}}  
\newcommand{\calH}{\mathcal{H}}  
\newcommand{\calI}{\mathcal{I}}  
\newcommand{\calJ}{\mathcal{J}}  
\newcommand{\calK}{\mathcal{K}}  
\newcommand{\calL}{\mathcal{L}}  
\newcommand{\calM}{\mathcal{M}}  
\newcommand{\calN}{\mathcal{N}}  
\newcommand{\calO}{\mathcal{O}}  
\newcommand{\calP}{\mathcal{P}}  
\newcommand{\calQ}{\mathcal{Q}}  
\newcommand{\calR}{\mathcal{R}}  
\newcommand{\calS}{\mathcal{S}}  
\newcommand{\calT}{\mathcal{T}}  
\newcommand{\calU}{\mathcal{U}}  
\newcommand{\calV}{\mathcal{V}}  
\newcommand{\calW}{\mathcal{W}}  
\newcommand{\calX}{\mathcal{X}}  
\newcommand{\calY}{\mathcal{Y}}  
\newcommand{\calZ}{\mathcal{Z}}  
% BB
\newcommand{\bbA}{\mathbb{A}}
\newcommand{\bbB}{\mathbb{B}}
\newcommand{\bbC}{\mathbb{C}}
\newcommand{\bbD}{\mathbb{D}}
\newcommand{\bbE}{\mathbb{E}}
\newcommand{\bbF}{\mathbb{F}}
\newcommand{\bbG}{\mathbb{G}}
\newcommand{\bbH}{\mathbb{H}}
\newcommand{\bbI}{\mathbb{I}}
\newcommand{\bbJ}{\mathbb{J}}
\newcommand{\bbK}{\mathbb{K}}
\newcommand{\bbL}{\mathbb{L}}
\newcommand{\bbM}{\mathbb{M}}
\newcommand{\bbN}{\mathbb{N}}
\newcommand{\bbO}{\mathbb{O}}
\newcommand{\bbP}{\mathbb{P}}
\newcommand{\bbQ}{\mathbb{Q}}
\newcommand{\bbR}{\mathbb{R}}
\newcommand{\bbS}{\mathbb{S}}
\newcommand{\bbT}{\mathbb{T}}
\newcommand{\bbU}{\mathbb{U}}
\newcommand{\bbV}{\mathbb{V}}
\newcommand{\bbW}{\mathbb{W}}
\newcommand{\bbX}{\mathbb{X}}
\newcommand{\bbY}{\mathbb{Y}}
\newcommand{\bbZ}{\mathbb{Z}}

% Frak
\newcommand{\frakA}{\mathfrak{A}}
\newcommand{\frakB}{\mathfrak{B}}
\newcommand{\frakC}{\mathfrak{C}}
\newcommand{\frakD}{\mathfrak{D}}
\newcommand{\frakE}{\mathfrak{E}}
\newcommand{\frakF}{\mathfrak{F}}
\newcommand{\frakG}{\mathfrak{G}}
\newcommand{\frakH}{\mathfrak{H}}
\newcommand{\frakI}{\mathfrak{I}}
\newcommand{\frakJ}{\mathfrak{J}}
\newcommand{\frakK}{\mathfrak{K}}
\newcommand{\frakL}{\mathfrak{L}}
\newcommand{\frakM}{\mathfrak{M}}
\newcommand{\frakN}{\mathfrak{N}}
\newcommand{\frakO}{\mathfrak{O}}
\newcommand{\frakP}{\mathfrak{P}}
\newcommand{\frakQ}{\mathfrak{Q}}
\newcommand{\frakR}{\mathfrak{R}}
\newcommand{\frakS}{\mathfrak{S}}
\newcommand{\frakT}{\mathfrak{T}}
\newcommand{\frakU}{\mathfrak{U}}
\newcommand{\frakV}{\mathfrak{V}}
\newcommand{\frakW}{\mathfrak{W}}
\newcommand{\frakX}{\mathfrak{X}}
\newcommand{\frakY}{\mathfrak{Y}}
\newcommand{\frakZ}{\mathfrak{Z}}
\newcommand{\fraka}{\mathfrak{a}}
\newcommand{\frakb}{\mathfrak{b}}
\newcommand{\frakc}{\mathfrak{c}}
\newcommand{\frakd}{\mathfrak{d}}
\newcommand{\frake}{\mathfrak{e}}
\newcommand{\frakf}{\mathfrak{f}}
\newcommand{\frakg}{\mathfrak{g}}
\newcommand{\frakh}{\mathfrak{h}}
\newcommand{\fraki}{\mathfrak{i}}
\newcommand{\frakj}{\mathfrak{j}}
\newcommand{\frakk}{\mathfrak{k}}
\newcommand{\frakl}{\mathfrak{l}}
\newcommand{\frakm}{\mathfrak{m}}
\newcommand{\frakn}{\mathfrak{n}}
\newcommand{\frako}{\mathfrak{o}}
\newcommand{\frakp}{\mathfrak{p}}
\newcommand{\frakq}{\mathfrak{q}}
\newcommand{\frakr}{\mathfrak{r}}
\newcommand{\fraks}{\mathfrak{s}}
\newcommand{\frakt}{\mathfrak{t}}
\newcommand{\fraku}{\mathfrak{u}}
\newcommand{\frakv}{\mathfrak{v}}
\newcommand{\frakw}{\mathfrak{w}}
\newcommand{\frakx}{\mathfrak{x}}
\newcommand{\fraky}{\mathfrak{y}}
\newcommand{\frakz}{\mathfrak{z}}
\newcommand{\F}{\mathscr{F}}
\newcommand{\At}{\mathscr{A}}
\newcommand{\G}{\mathscr{G}}
\newcommand{\RP}{\operatorname{\mathbb{R}P}}
\newcommand{\CP}{\operatorname{\mathbb{C}P}}
\renewcommand{\Z}{\mathbb{Z}}
\newcommand{\Fbb}{\mathbb{F}} 
\newcommand{\0}{\mymathbb{0}}
\newcommand{\1}{\mymathbb{1}}
% \renewcommand{\P}{\mathcal{P}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\comp}{\overline}
\renewcommand{\succ}{\text{succ}}
\newcommand{\Mod}[1]{\ (\mathrm{mod}\ #1)}
\newcommand{\?}{\stackrel{?}{=}}
\newcommand{\tosim}{\xrightarrow{\sim}}
\newcommand{\p}{\mathfrak{p}}
\newcommand{\m}{\mathfrak{m}}
\newcommand{\slf}{\mathfrak{sl}}
\newcommand{\glf}{\mathfrak{gl}}
\newcommand{\sof}{\mathfrak{so}}
\newcommand{\of}{\mathfrak{o}}
\newcommand{\gf}{\mathfrak{g}}
\newcommand{\hf}{\mathfrak{h}}
\newcommand{\ZHS}{\Z HS}

\newcommand{\rightarrowdbl}{\rightarrow\mathrel{\mkern-14mu}\rightarrow}

\newcommand{\xrightarrowdbl}[2][]{%
  \xrightarrow[#1]{#2}\mathrel{\mkern-14mu}\rightarrow
}


\tikzcdset{scale cd/.style={every label/.append style={scale=#1},
	cells={nodes={scale=#1}}}}

\newcommand{\transv}{\mathrel{\text{\tpitchfork}}}
\makeatletter
\newcommand{\tpitchfork}{%
  \raise-0.1ex\vbox{
    \baselineskip\z@skip
    \lineskip-.52ex
    \lineskiplimit\maxdimen
    \m@th
    \ialign{##\crcr\hidewidth\smash{$-$}\hidewidth\crcr$\pitchfork$\crcr}
  }%
}
\makeatother

\newcommand{\Mid}{\,\middle|\,}

% Unit vectors
\newcommand{\ihat}{\hat{\imath}}
\newcommand{\jhat}{\hat{\jmath}}
\newcommand{\khat}{\hat{k}}

\newcommand{\lvec}{\overrightarrow}
\newcommand{\inv}[1]{#1^{-1}}
\newcommand{\<}{\langle}
\renewcommand{\>}{\rangle}
\newcommand{\iso}{\cong}
\newcommand{\homeo}{\approx_{\homeomorphism}}

\makeatletter
\newcommand\RedeclareMathOperator{%
  \@ifstar{\def\rmo@s{m}\rmo@redeclare}{\def\rmo@s{o}\rmo@redeclare}%
}
% this is taken from \renew@command
\newcommand\rmo@redeclare[2]{%
  \begingroup \escapechar\m@ne\xdef\@gtempa{{\string#1}}\endgroup
  \expandafter\@ifundefined\@gtempa
     {\@latex@error{\noexpand#1undefined}\@ehc}%
     \relax
  \expandafter\rmo@declmathop\rmo@s{#1}{#2}}
\newcommand\rmo@declmathop[3]{%
  \DeclareRobustCommand{#2}{\qopname\newmcodes@#1{#3}}%
}
\@onlypreamble\RedeclareMathOperator
\makeatother

% Common categories
\DeclareMathOperator{\Ab}{Ab}
\DeclareMathOperator{\Grp}{Grp}
\DeclareMathOperator{\Sets}{Set}
\DeclareMathOperator{\Man}{Man}
\DeclareMathOperator{\op}{op}
\DeclareMathOperator{\Gps}{Gps}
\DeclareMathOperator{\Gpd}{Gpd}
\DeclareMathOperator{\sSet}{sSet}
\DeclareMathOperator{\Vect}{Vect}

\DeclareMathOperator{\Bun}{Bun}
\DeclareMathOperator{\rel}{\,rel\,}
\DeclareMathOperator{\Sp}{Sp}
\DeclareMathOperator{\Mb}{Mb}
\DeclareMathOperator{\ad}{ad}
\DeclareMathOperator{\reg}{reg}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Lie}{Lie}
\RedeclareMathOperator{\O}{O}
%\RedeclareMathOperator{\int}{int}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\pr}{pr}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\St}{St}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\PSO}{PSO}
\DeclareMathOperator{\PO}{PO}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\crit}{crit}
\DeclareMathOperator{\homeomorphism}{homeo}
\DeclareMathOperator{\Gr}{Gr}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\spec}{spec}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Diff}{Diff}
\DeclareMathOperator{\Map}{Map}
\DeclareMathOperator{\Fun}{Fun}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\id}{Id}
\DeclareMathOperator{\sol}{Sol}
\DeclareMathOperator{\Spam}{Span}
\DeclareMathOperator{\Bil}{Bil}
\DeclareMathOperator{\Bij}{Bij}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\GF}{GF}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\Ad}{Ad}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\orb}{orb}
\DeclareMathOperator{\diam}{diam}
\DeclareMathOperator{\Char}{char}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\U}{U}
\DeclareMathOperator{\PSL}{PSL}
\DeclareMathOperator{\PGL}{PGL}
\DeclareMathOperator{\PU}{PU}
\DeclareMathOperator{\Spin}{Spin}
\DeclareMathOperator{\Euc}{Euc}
\DeclareMathOperator{\Cliff}{Cliff}
\DeclareMathOperator{\Aff}{Aff}
\DeclareMathOperator{\hol}{hol}
\DeclareMathOperator{\Enc}{Enc}
\DeclareMathOperator{\Dec}{Dec}
\DeclareMathOperator{\Sign}{Sign}
\DeclareMathOperator{\Verify}{Verify}
\DeclareMathOperator{\Isom}{Isom}
%\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
%\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

% Obviously
\renewcommand{\phi}{\varphi}

\newcommand{\verteq}{\rotatebox{90}{$\,=$}}
\newcommand{\veq}[2]{\underset{\scriptstyle\overset{\mkern4mu\verteq}{#2}}{\underbrace{#1}}}

\newcommand{\vertiso}{\rotatebox{-90}{$\,\iso$}}
\newcommand{\viso}[2]{\underset{\scriptstyle\overset{\mkern4mu\vertiso}{#2}}{\underbrace{#1}}}

\newcommand{\vertni}{\rotatebox{90}{$\,\ni$}}
\def\vni#1#2{\underset{\scriptstyle\overset{\mkern4mu\vertni}{#2}}{\underbrace{#1}}}

\newcommand{\vertin}{\rotatebox{90}{$\,\in$}}
\def\vin#1#2{\underset{\scriptstyle\overset{\mkern4mu\vertin}{#2}}{\underbrace{#1}}}

\newcommand{\vertsubseteq}{\rotatebox{90}{$\,\subseteq$}}
\newcommand{\vsubseteq}[2]{\underset{\scriptstyle\overset{\mkern4mu\vertsubseteq}{#2}}{\underbrace{#1}}}

% Switch between leqno and reqno
\makeatletter
\newcommand{\leqnomode}{\tagsleft@true}
\newcommand{\reqnomode}{\tagsleft@false}
\makeatother
